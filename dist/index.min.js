(()=>{var v=class{#e=null;tokens=[];toggleActive=!1;toggleIcon=null;#t=null;constructor(e={}){let{level:t,number:s,className:i="json-line",showNumber:r=!1,toggleControl:o=!1,toggleIcon:l=null,isOpenBlock:c=!1,isCloseBlock:a=!1,colors:h=new Set,urls:u=new Set}=e;this.level=t,this.number=s,this.className=i,this.isOpenBlock=c,this.isCloseBlock=a,this.showNumber=r,this.toggleControl=o,this.toggleIcon=l,this.colors=h,this.urls=u}render(){this.#e&&this.dispose(),this.#e=document.createElement("div"),this.node.classList.add(this.className),this.node.setAttribute("level",this.level),this.node.style.setProperty("--level",this.level),this.node.setAttribute("number",this.number),this.node.style.setProperty("--number",this.number);let e=document.createElement("div");e.classList.add(`${this.className}-content`);for(let t=0;t<this.tokens.length;t++)e.append(this.#s(this.tokens.at(t)));if(this.node.append(e),this.showNumber){let t=document.createElement("span");t.classList.add(`${this.className}-number`),t.textContent=this.number,this.node.prepend(t)}return this.toggleControl&&this.isOpenBlock&&this.node.insertBefore(this.#o(),e),this.node}#s(e={}){let{type:t,value:s,tags:i=[]}=e,r=document.createElement("span");if(r.classList.add(`${this.className}-token`),r.classList.add(t),r.setAttribute("tags",i.join(" ")),this.urls.size>0&&e.url&&this.urls.has(e.url)){let o=document.createElement("a");return o.classList.add(`${this.className}-url`),o.href=["domain","www"].includes(e.url)?`https://${s}`:e.url==="mail"&&!String(s).startsWith("mailto:")?`mailto:${s}`:e.url==="phone"&&!String(s).startsWith("tel:")?`tel:${s}`:String(s),e.url!=="relative"&&(o.target="_blank",o.rel="noopener noreferrer"),o.textContent=String(s),r.append(o),r}if(this.colors.size>0&&e.color&&this.colors.has(e.color)){let o=document.createElement("span");return o.classList.add(`${this.className}-color-preview`),o.style.backgroundColor=s,r.append(o,String(s)),r}return r.textContent=String(s),r}#o(){this.#t=document.createElement("button"),this.#t.classList.add(`${this.className}-toggle-button`),this.#t.classList.toggle("active",this.toggleActive);let e=document.createElement("span");return e.classList.add(`${this.className}-toggle-icon`),this.toggleIcon?e.append(this.toggleIcon):e.textContent="v",this.#t.append(e),this.#t.addEventListener("click",this.#n),this.#t}#n=e=>{this.toggleActive=!this.toggleActive,e.currentTarget.classList.toggle("active"),this.node.dispatchEvent(new CustomEvent("toggle-lines",{detail:{line:this},bubbles:!0,composed:!0}))};dispose(){this.clearListeners(),this.#e?.remove(),this.#e=null,this.tokens=[],this.toggleIcon=null,this.toggleActive=!1,this.isOpenBlock=!1,this.isCloseBlock=!1}clearListeners(){this.#t?.removeEventListener("click",this.#n),this.#t=null}addToken(e={}){this.isOpenBlock||(this.isOpenBlock=["brace-open","bracket-open"].includes(e.type)),this.isCloseBlock||(this.isCloseBlock=["brace-close","bracket-close"].includes(e.type)),this.tokens.push(e)}get node(){return this.#e}};var k=class{#e=null;content=[];openLine=null;closeLine=null;folded=!1;constructor(e={}){let{className:t="json-block",level:s=0,showContent:i=!0,foldedMessage:r="",folded:o=!1}=e;this.className=t,this.level=s,this.showContent=i,this.foldedMessage=r,this.folded=o}render(){if(this.#e&&this.dispose(),this.#e=document.createElement("div"),this.node.classList.add(this.className),this.node.setAttribute("level",this.level),this.node.style.setProperty("--level",this.level),this.folded&&this.node.setAttribute("folded",""),this.foldedMessage&&this.foldedMessage!=="none"){let t=this.foldedMessage.includes("{content_length}")?this.foldedMessage.replace("{content_length}",this.content.length):this.foldedMessage;this.node.style.setProperty("--json-folded-message-content",`"${t}"`)}this.openLine&&this.node.append(this.openLine.render());let e=document.createElement("div");return e.classList.add(`${this.className}-content`),this.node.append(e),this.showContent&&this.renderContent(),this.closeLine&&this.node.append(this.closeLine.render()),this.node}renderContent(){this.showContent=!0;let e=document.createDocumentFragment();for(let t=0;t<this.content.length;t++)e.append(this.content.at(t).render());this.node?.querySelector(`.${this.className}-content`).append(e)}fold(){this.folded=!0,this.node?.setAttribute("folded","")}unfold(){this.folded=!1,this.node?.removeAttribute("folded")}dispose(){this.openLine?.dispose(),this.closeLine?.dispose();for(let e=0;e<this.content.length;e++)this.content.at(e).dispose();this.#e?.remove(),this.#e=null,this.openLine=null,this.closeLine=null,this.content=[],this.folded=!1}get node(){return this.#e}};var z=new Set(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","transparent","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"]),$={HEX:{type:"hex",regex:/^#(?:[0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,test(n=""){return this.regex.test(n)}},RGB:{type:"rgb",regex:/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,test(n=""){return this.regex.test(n)},validRange(n=""){let e=n.match(this.regex);if(!e)return!1;let[,t,s,i]=e,r=Number(t),o=Number(s),l=Number(i);return r>=0&&r<=255&&o>=0&&o<=255&&l>=0&&l<=255}},RGBA:{type:"rgba",regex:/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(0|1|0?\.\d+)\s*\)$/i,test(n=""){return this.regex.test(n)},validRange(n=""){let e=n.match(this.regex);if(!e)return!1;let[,t,s,i,r]=e,o=Number(t),l=Number(s),c=Number(i),a=Number(r);return o>=0&&o<=255&&l>=0&&l<=255&&c>=0&&c<=255&&a>=0&&a<=1}},HSL:{type:"hsl",regex:/^hsl\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*\)$/i,test(n=""){return this.regex.test(n)},validRange(n=""){let e=n.match(this.regex);if(!e)return!1;let[,t,s,i]=e,r=Number(t),o=Number(s),l=Number(i);return r>=0&&r<=360&&o>=0&&o<=100&&l>=0&&l<=100}},HSLA:{type:"hsla",regex:/^hsla\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*,\s*(0|1|0?\.\d+)\s*\)$/i,test(n=""){return this.regex.test(n)},validRange(n=""){let e=n.match(this.regex);if(!e)return!1;let[,t,s,i,r]=e,o=Number(t),l=Number(s),c=Number(i),a=Number(r);return o>=0&&o<=360&&l>=0&&l<=100&&c>=0&&c<=100&&a>=0&&a<=1}},NAMED_COLORS:{type:"named",test(n=""){return typeof CSS<"u"&&CSS.supports?CSS.supports("color",n):z.has(n.toLowerCase())}}};var x=$;var I={HTTP:{type:"http",regex:/^http:\/\/[^\s"'`<>()]+$/,test(n=""){return this.regex.test(n)}},HTTPS:{type:"https",regex:/^https:\/\/[^\s"'`<>()]+$/,test(n=""){return this.regex.test(n)}},FTP:{type:"ftp",regex:/^ftp:\/\/[^\s"'`<>()]+$/,test(n=""){return this.regex.test(n)}},WWW:{type:"www",regex:/^www\.[^\s"'`<>()]+$/,test(n=""){return this.regex.test(n)}},DOMAIN:{type:"domain",regex:/^[a-z0-9.-]+\.[a-z]{2,}(\/[^\s"'`<>()]*)?$/i,test(n=""){return this.regex.test(n)}},RELATIVE:{type:"relative",regex:/^(\.{1,2}\/|\/)[^\s"'`<>()]+$/,test(n=""){return this.regex.test(n)}},MAIL:{type:"mail",regex:/^(?:mailto:)?[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}(?:\?[^\s"'`<>()]+)?$/i,test(n=""){return this.regex.test(n)}},PHONE:{type:"phone",regex:/^(?:tel:)?\+?[\d\s-]*?(?:\(\d{1,4}\))?[\d\s-]{5,}$/,test(n=""){return this.regex.test(n)}}};var L=I;var S=class n{static version="0.0.3";static URL_PATTERNS=L;static COLOR_PATTERNS=x;tokens=[];constructor(){}tokenize(e,t={}){let{detectURL:s=!1,detectColor:i=!0,strict:r=!1}=t,o=this.clearJSON(e,{strict:r});this.tokens=[];let l=[],c="key",a=0,h=0,u=o.length;for(;a<o.length;){if(h++,h>u)throw new Error(`Infinite loop detected while tokenizing JSON. Check the input: ${o}`);let d=o[a],g=l.at(-1);if(d==="{"){l.push("{"),this.tokens.push({type:"brace-open",value:d,tags:["brace","open"]}),c="key",a++;continue}if(d==="}"){l.pop(),this.tokens.push({type:"brace-close",value:d,tags:["brace","close"]}),a++;continue}if(d==="["){l.push("["),this.tokens.push({type:"bracket-open",value:d,tags:["bracket","open"]}),c="array-value",a++;continue}if(d==="]"){l.pop(),this.tokens.push({type:"bracket-close",value:d,tags:["bracket","close"]}),a++;continue}if(d===","){this.tokens.push({type:"comma",value:d,tags:["comma"]}),c=g==="{"?"key":"array-value",a++;continue}if(d===":"){this.tokens.push({type:"colon",value:d,tags:["colon"]}),c="value",a++;continue}if(d==='"'){let p=this._parseString(o,a);if(p){let{value:f,endIndex:m}=p,y={type:"string",value:f,tags:["string",c]};if(s){let b=this._isURL(f);b.isURL&&(y.tags.push(`url-${b.type}`),y.url=b.type)}if(i){let b=this._isColor(f);b.isColor&&(y.tags.push(`color-${b.type}`),y.color=b.type)}this.tokens.push({type:"string-open",value:d,tags:["string","open",c]}),this.tokens.push(y),this.tokens.push({type:"string-close",value:d,tags:["string","close",c]}),a=m+1;continue}}if(d==="t"||d==="f"){let p=this._parseBoolean(o,a);if(p){let{value:f,endIndex:m}=p;this.tokens.push({type:"boolean",value:f,tags:["boolean",c,f?"true":"false"]}),a=m+1;continue}}if(d==="n"){let p=this._parseNull(o,a);if(p){let{value:f,endIndex:m}=p;this.tokens.push({type:"null",value:f,tags:["null",c]}),a=m+1;continue}}if(/[0-9\-]/.test(d)){let p=this._parseNumber(o,a);if(p){let{value:f,endIndex:m}=p;this.tokens.push({type:"number",value:f,tags:["number",c]}),a=m+1;continue}}let{value:T,endIndex:R}=this._parseUnknown(o,a);this.tokens.push({type:"unknown",value:T,tags:["unknown",c]}),a=R+1}}clearJSON(e,t={}){if(typeof e?.valueOf()!="string")throw new Error("Invalid JSON input. Expected a string.");let{strict:s="auto"}=t;if(s===!0)return JSON.stringify(JSON.parse(e));if(s===!1)return this._minifyJSON(e);if(s==="auto")try{return JSON.stringify(JSON.parse(e))}catch{return this._minifyJSON(e)}throw new Error("Invalid 'strict' option. Expected true, false, or 'auto'.")}_parseString(e,t){let s=t+1;for(;s<e.length;){if(e.at(s)==="\\"){s+=2;continue}if(e.at(s)==='"')break;s++}let i=s,r=e.slice(t,i+1);try{return{value:JSON.parse(r),raw:r,endIndex:i}}catch{return null}}_parseNumber(e,t){let s=t;for(;s<e.length&&!this._isDelimiter(e[s]);)s++;let i=e.slice(t,s),r=Number(i);return Number.isNaN(r)?null:{value:r,raw:i,endIndex:s-1}}_parseBoolean(e,t){return e.startsWith("true",t)&&this._isDelimiter(e[t+4])?{value:!0,raw:"true",endIndex:t+3}:e.startsWith("false",t)&&this._isDelimiter(e[t+5])?{value:!1,raw:"false",endIndex:t+4}:null}_parseNull(e,t){return e.startsWith("null",t)&&this._isDelimiter(e[t+4])?{value:null,raw:"null",endIndex:t+3}:null}_parseUnknown(e,t){let s=t,i=[];for(;s<e.length&&!this._isDelimiter(e[s]);)i.push(e[s]),s++;return{value:i.join(""),raw:i.join(""),endIndex:s-1}}_isDelimiter(e=""){return e===","||e==="}"||e==="]"}_isURL(e=""){if(!e)return{isURL:!1,type:null};if(typeof e!="string")return{isURL:!1,type:null};for(let t of Object.values(n.URL_PATTERNS))if(t.test(e))return{isURL:!0,type:t.type};return{isURL:!1,type:null}}_isColor(e=""){if(!e)return{isColor:!1,type:null};if(typeof e!="string")return{isColor:!1,type:null};for(let t of Object.values(n.COLOR_PATTERNS))if(t.test(e))return t.validRange&&!t.validRange(e)?{isColor:!1,type:null}:{isColor:!0,type:t.type};return{isColor:!1,type:null}}_minifyJSON(e){if(typeof e?.valueOf()!="string")throw new Error("Invalid JSON input. Expected a string.");if(e.length===0)return"";let t=[],s=!1,i=!1,r=e.length;for(let o=0;o<r;o++){let l=e[o];s?(t.push(l),i?i=!1:(l==="\\"&&(i=!0),l==='"'&&(s=!1))):(l!==" "&&l!==`
`&&l!=="	"&&l!=="\r"&&t.push(l),l==='"'&&(s=!0))}return t.join("")}},C=S;var w=class{#e=null;constructor(e={}){let{className:t="copy-button",icons:s=null,data:i=null,showDoneTimeout:r=1e3}=e;this.className=t,this.icons=s,this.data=i,this.showDoneTimeout=r}render(){this.#e=document.createElement("button"),this.#e.classList.add(this.className);let e=document.createElement("div");e.classList.add("copy-icon"),this.icons?.copy?e.append(this.icons.copy):e.textContent="Copy",this.#e.append(e);let t=document.createElement("div");return t.classList.add("copy-done-icon"),this.icons?.copyDone?t.append(this.icons.copyDone):t.textContent="Done",this.#e.append(t),this.#e.addEventListener("click",this.#t),this.#e}#t=e=>{let t=typeof this.data=="function"?this.data():this.data?.current;if(t){let s=e.currentTarget;navigator.clipboard.writeText(typeof t=="string"?t:JSON.stringify(t,null,2)).then(()=>{s.setAttribute("copy-done",""),s.disabled=!0,setTimeout(()=>{s.removeAttribute("copy-done"),s.disabled=!1},this.showDoneTimeout),s.dispatchEvent(new CustomEvent("copy-done",{detail:{data:t},bubbles:!0,composed:!0})),console.log("JSON copied to clipboard")}).catch(i=>{console.error("Failed to copy JSON:",i)})}};dispose(){this.clearListeners(),this.#e?.remove(),this.#e=null}clearListeners(){this.#e?.removeEventListener("click",this.#t)}get node(){return this.#e}};var j=class n extends HTMLElement{static VERSION="0.0.3";static DEFAULT_TAG_NAME="custom-json-visualizer";static DEFAULT_ICONS={toggle:`<svg data-name='toggle' width='16' height='16' fill='currentColor' viewBox='0 0 16 16'>
			<path fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708'/>
		</svg>`,copy:`<svg data-name='copy' width='16' height='16' fill='currentColor' viewBox='0 0 16 16'>
			<path d='M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1z'/>
			<path d='M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0z'/>
		</svg>`,"copy-done":`<svg data-name='copy-done' width='16' height='16' fill='currentColor' viewBox='0 0 16 16'>
			<path d='M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0'/>
		</svg>`};static stylesSheets={links:[],adopted:[],raw:[]};static getTokens=async(e,t={})=>{let s=new C;return s.tokenize(e,t),s.tokens};static defaults={renderDeep:1/0,colors:new Set(["hex","rgb","rgba","hsl","hsla","named"]),urls:new Set(["http","https","ftp","www","domain","relative","mail","phone"]),foldedMessage:"\u22EF",strict:"auto"};#e=null;#t=null;#s=null;constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`
			<div class='JSONVisualizer'></div>
			<slot name='icons'>
				<template>
					${n.DEFAULT_ICONS.toggle}
					${n.DEFAULT_ICONS.copy}
					${n.DEFAULT_ICONS["copy-done"]}
				</template>
			</slot>
		`,Promise.allSettled(n.stylesSheets.links.map(e=>{let t=document.createElement("link");t.rel="stylesheet",t.href=e;let{promise:s,resolve:i,reject:r}=Promise.withResolvers();return t.addEventListener("load",()=>i({link:t,href:e,status:"loaded"})),t.addEventListener("error",()=>r({link:t,href:e,status:"error"})),this.shadowRoot.prepend(t),s})).then(e=>{this.dispatchEvent(new CustomEvent("ready-links",{detail:{results:e.map(t=>t.value||t.reason)}})),this.setAttribute("ready-links","")}),n.stylesSheets.raw.forEach(e=>{let t=document.createElement("style");t.textContent=e,this.shadowRoot.prepend(t)}),this.shadowRoot.adoptedStyleSheets=n.stylesSheets.adopted}static observedAttributes=["json","src"];attributeChangedCallback(e,t,s){e==="src"&&s!==t&&this.loadJSON(s),e==="json"&&s!==t&&this.renderJSON(s)}connectedCallback(){!this.getAttribute("src")&&!this.getAttribute("json")&&(this.json=this.textContent),this.copyButton!=="none"&&(this.#t=new w({data:()=>this.data,icons:{copy:this.getIcon("copy",{clone:!0}),copyDone:this.getIcon("copy-done",{clone:!0})}}),this.shadowRoot.append(this.#t.render())),this.addEventListener("toggle-lines",this.#n),this.dispatchEvent(new CustomEvent("ready")),this.setAttribute("ready","")}disconnectedCallback(){this.#t?.dispose(),this.#t=null,this.clearJSON(),this.clearListeners()}async loadJSON(e,t={}){let{method:s}=t;try{let i=await fetch(e,{method:s||"GET"});if(i.ok){let r=await i.json();this.json=r}}catch{}}async#o(e,t={}){if(!n.getTokens){console.warn("JSONVisualizer.getTokens is not defined. Please ensure that the JSONTokenizer");return}let{colors:s=this.colors,urls:i=this.urls}=t,r=[],o=await n.getTokens(e,{detectColor:s.size>0,detectURL:i.size>0,strict:this.strict}),l=null,c=0,a=1;for(let h=0;h<o.length;h++){let u=o.at(h);if(["brace-close","bracket-close"].includes(u.type)){c--;let d=o.at(h-1);["brace-open","bracket-open","comma"].includes(d?.type)||(l=null)}if(l||(l=new v({level:c,number:a++,colors:s,urls:i}),r.push(l)),l.addToken(u),["brace-close","bracket-close"].includes(u.type)){let d=o.at(h+1);if(d?.type==="comma"){l.addToken(d),h++,l=null;continue}}["brace-open","bracket-open"].includes(u.type)&&c++,["brace-open","brace-close","bracket-open","bracket-close","comma"].includes(u.type)&&(l=null)}return r}async renderJSON(e,t={}){if(!e){console.warn("No JSON provided to renderJSON method.");return}console.log("render json"),this.clearJSON();let{lineNumbers:s=this.lineNumbers!=="none",toggleLines:i=this.toggleLines!=="none",renderDeep:r=this.renderDeep,colors:o=this.colors,urls:l=this.urls}=t,c=await this.#o(e,{colors:o,urls:l}),a=[];for(let h=0;h<c.length;h++){let u=c.at(h);if(u.showNumber=s,u.isOpenBlock){let g=new k({level:u.level,showContent:u.level<r,foldedMessage:this.foldedMessage});g.openLine=u,u.block=g,g.folded=!g.showContent,i&&(u.toggleControl=!0,u.toggleActive=!g.showContent,u.toggleIcon=this.getIcon("toggle",{clone:!0})),a.push(g);continue}if(u.isCloseBlock){let g=a.pop();g.closeLine=u,u.block=g,a.length>0?a.at(-1).content.push(g):this.#e=g;continue}let d=a.at(-1);u.block=d,d?.content.push(u)}if(!this.#e&&a.length>0){for(;a.length>1;){let h=a.pop();a.at(-1).content.push(h)}this.#e=a.at(0)}if(this.shadowRoot.querySelector(".JSONVisualizer").append(this.#e.render()),s){let h=`${String(c.length).length}ch`;this.shadowRoot.querySelector(".JSONVisualizer").style.setProperty("--line-number-min-width",h)}this.setAttribute("ready-json",""),this.dispatchEvent(new CustomEvent("ready-json"))}getIcon(e,{clone:t=!1}={}){let s=this.shadowRoot.querySelector("slot[name='icons']"),i=s.querySelector("template").content,o=s.assignedNodes().at(0)?.content?.querySelector(`[data-name='${e}']`)??i.querySelector(`[data-name='${e}']`);return t?o.cloneNode(!0):o}clearJSON(){this.removeAttribute("ready-json"),this.#e?.dispose(),this.#e=null}clearListeners(){this.removeEventListener("toggle-lines",this.#n)}#n=e=>{let{line:t}=e.detail;t.block.showContent?t.block.folded?t.block.unfold():t.block.fold():(t.block.renderContent(),t.block.folded&&t.block.unfold())};set lineNumbers(e){e?this.setAttribute("line-numbers",""):this.removeAttribute("line-numbers")}get lineNumbers(){return this.getAttribute("line-numbers")}set toggleLines(e){e?this.setAttribute("toggle-lines",""):this.removeAttribute("toggle-lines")}get toggleLines(){return this.getAttribute("toggle-lines")}set indentationGuidesLines(e){e?this.setAttribute("indentation-guides-lines",""):this.removeAttribute("indentation-guides-lines")}get indentationGuidesLines(){return this.getAttribute("indentation-guides-lines")}set copyButton(e){e?this.setAttribute("copy-button",""):this.removeAttribute("copy-button")}get copyButton(){return this.getAttribute("copy-button")}set foldedMessage(e){e?this.setAttribute("folded-message",e):this.removeAttribute("folded-message")}get foldedMessage(){return this.getAttribute("folded-message")??n.defaults.foldedMessage}set renderDeep(e){e?this.setAttribute("render-deep",e):this.removeAttribute("render-deep")}get renderDeep(){let e=this.getAttribute("render-deep");return!e||Number.isNaN(Number(e))?n.defaults.renderDeep:Number(e)}set colors(e){if(e==null)return this.removeAttribute("colors");if(typeof e=="string"&&this.setAttribute("colors",e),Array.isArray(e)||e instanceof Set){let t=[...e].map(s=>s.trim()).filter(s=>s&&n.defaults.colors.has(s));return this.setAttribute("colors",t.join(","))}}get colors(){let e=this.getAttribute("colors");return!e||e==="all"?n.defaults.colors:e==="none"?new Set:new Set(e.split(",").map(t=>t.trim()).filter(t=>t&&n.defaults.colors.has(t)))}set urls(e){if(e==null)return this.removeAttribute("urls");if(typeof e=="string"&&this.setAttribute("urls",e),Array.isArray(e)||e instanceof Set){let t=[...e].map(s=>s.trim()).filter(s=>s&&n.defaults.urls.has(s));return this.setAttribute("urls",t.join(","))}}get urls(){let e=this.getAttribute("urls");return!e||e==="all"?n.defaults.urls:e==="none"?new Set:new Set(e.split(",").map(t=>t.trim()).filter(t=>t&&n.defaults.urls.has(t)))}set strict(e){e?this.setAttribute("strict",e):this.removeAttribute("strict")}get strict(){let e=this.getAttribute("strict")?.toLowerCase();return!e&&this.hasAttribute("strict")?!0:e==="none"||e==="false"?!1:e==="true"?!0:n.defaults.strict}set src(e){e?this.setAttribute("src",e):this.removeAttribute("src")}get src(){return this.getAttribute("src")}set json(e){if(e==null){this.removeAttribute("json"),this.#s=null;return}if(typeof e=="string")try{this.#s=JSON.parse(e),this.setAttribute("json",JSON.stringify(this.#s))}catch{this.#s=e,this.setAttribute("json",e)}else if(typeof e=="object")this.#s=e,this.setAttribute("json",JSON.stringify(this.#s));else throw new TypeError("json must be a string or object")}get json(){return{raw:this.getAttribute("json"),parsed:this.#s}}get data(){return this.#s}},N=j;var O=`:host{display:inline-block;margin:0;padding:0;vertical-align:middle;width:fit-content;height:fit-content;min-width:100%;min-height:100%;position:relative;--line-height: 1.25;--line-elements-gap: 5px;--line-white-space: normal;--font: Consolas, "Courier New", monospace, sans-serif;--line-number-padding: 5px;--line-number-color: #777;--line-number-background: transparent;--line-number-text-align: right;--line-number-width: fit-content;--line-number-min-width: 2ch;--toggle-button-width: 15px;--toggle-button-color: #777;--toggle-button-hover-color: #fff;--toggle-button-padding: 0;--copy-button-width: 40px;--copy-button-height: 40px;--copy-button-color: #777;--copy-button-hover-color: #fff;--copy-button-padding: 10px;--indentation-guides-lines-color: #444;--indentation-guides-lines-width: 1px;--scrollbar-color: #555 #2a2a2a;--json-tab-size: 4ch;--json-background: #222;--json-foreground: #eee;--json-key: #9cdcfe;--json-string: #ce9178;--json-number: #b5cea8;--json-boolean: #569cd6;--json-null: #dcdcaa;--json-brace: #ffd700;--json-bracket: #ffd700;--json-comma: #d4d4d4;--json-colon: #d4d4d4;--json-unknownn: #f44747;--json-folded-message-content: unset;--json-folded-message-color: #777;--json-url-color: inherit;--json-url-visited-color: inherit;--json-url-hover-color: inherit;--json-url-text-decoration: underline;--json-preview-color-width: .7em;--json-preview-color-height: .7em;--json-preview-color-border: 1px solid #ffffff;--json-preview-color-margin: 0 .25em;background-color:var(--json-background);color:var(--json-foreground);font-family:var(--font);line-height:var(--line-height)}:host .JSONVisualizer{.json-line{display:flex;gap:var(--line-elements-gap);.json-line-number{min-width:var(--line-number-min-width);width:var(--line-number-width);flex-grow:0;flex-shrink:0;padding-inline:var(--line-number-padding);color:var(--line-number-color);background-color:var(--line-number-background);text-align:var(--line-number-text-align);user-select:none}.json-line-toggle-button{display:block;flex-grow:0;flex-shrink:0;width:var(--toggle-button-width);margin:0;padding:var(--toggle-button-padding);background:transparent;border:none;color:var(--toggle-button-color);.json-line-toggle-icon,.json-line-toggle-icon svg{display:block;width:100%;height:100%}&.active .json-line-toggle-icon{rotate:-90deg}&:hover{color:var(--toggle-button-hover-color)}}.json-line-content{flex-grow:1;flex-shrink:1;--total-tab-size: calc(var(--level, 0) * var(--json-tab-size, 20px));padding-left:var(--total-tab-size);white-space:var(--line-white-space);background-image:repeating-linear-gradient(to right,var(--indentation-guides-lines-color) 0,var(--indentation-guides-lines-color) var(--indentation-guides-lines-width),transparent var(--indentation-guides-lines-width),transparent var(--json-tab-size, 20px));background-size:round(down,var(--total-tab-size),1px) 100%;background-repeat:no-repeat;background-position:0 0;.json-line-url{color:var(--json-url-color);text-decoration:var(--json-url-text-decoration);&:visited{color:var(--json-url-visited-color)}&:hover{color:var(--json-url-hover-color)}}.json-line-color-preview{display:inline-block;width:var(--json-preview-color-width);height:var(--json-preview-color-height);border:var(--json-preview-color-border);margin:var(--json-preview-color-margin)}}&:not(:has(.json-line-toggle-button)) .json-line-content{margin-left:calc(var(--toggle-button-width) + var(--line-elements-gap))}}.json-block[folded] .json-block-content{display:none}.json-block[folded] .json-line:first-child .json-line-content span:last-child:after{display:inline-block;content:var(--json-folded-message-content, "\\22ef");color:var(--json-folded-message-color);margin:.1em .2em 0;line-height:1em}span[tags~=brace]{color:var(--json-brace)}span[tags~=bracket]{color:var(--json-bracket)}span[tags~=string]{color:var(--json-string)}span[tags~=key]{color:var(--json-key)}span[tags~=number]{color:var(--json-number)}span[tags~=boolean]{color:var(--json-boolean)}span[tags~=null]{color:var(--json-null)}span[tags~=comma]{color:var(--json-comma)}span[tags~=colon]{color:var(--json-colon);padding-right:1ch}span[tags~=unknown]{color:var(--json-unknownn)}}:host([line-numbers="none"]) .JSONVisualizer .json-line .json-line-number{display:none}:host([toggle-lines="none"]) .JSONVisualizer .json-line{.json-line-toggle-button{display:none}.json-line-content{margin-left:0}}:host([indentation-guides-lines="none"]) .JSONVisualizer .json-line .json-line-content{background-image:none}:host([folded-message="none"]) .JSONVisualizer .json-block[folded] .json-line:first-child .json-line-content span:last-child:after{display:none}:host .copy-button{display:grid;grid-template-columns:1fr;grid-template-rows:1fr;position:absolute;top:0;right:0;background:transparent;border:none;padding:var(--copy-button-padding);width:var(--copy-button-width);height:var(--copy-button-height);color:var(--copy-button-color);.copy-icon,.copy-icon svg,.copy-done-icon,.copy-done-icon svg{display:block;width:100%;height:100%}.copy-icon,.copy-done-icon{grid-row:1;grid-column:1}&:not([copy-done]) .copy-done-icon{display:none}&[copy-done] .copy-icon{display:none}&:hover{color:var(--copy-button-hover-color)}}:host([copy-button="none"]) .copy-button{display:none}:host(.contain){width:100%;height:100%;.JSONVisualizer{width:100%;height:100%;overflow:auto;scrollbar-width:thin;scrollbar-color:var(--scrollbar-color)}.copy-button{right:10px}}
`;var Q="0.0.3",A="custom-json-visualizer",E=new CSSStyleSheet;E.replaceSync(O);N.stylesSheets.adopted.push(E);customElements.get(A)?console.warn(`Custom element with tag name "${A}" is already defined.`):customElements.define(A,N);var Y=N;})();
