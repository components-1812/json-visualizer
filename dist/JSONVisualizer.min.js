(()=>{var v=class{#e=null;tokens=[];toggleActive=!1;toggleIcon=null;#t=null;constructor(e={}){let{level:t,number:s,className:r="json-line",showNumber:o=!1,toggleControl:i=!1,toggleIcon:l=null,isOpenBlock:c=!1,isCloseBlock:a=!1,colors:d=new Set,urls:h=new Set}=e;this.level=t,this.number=s,this.className=r,this.isOpenBlock=c,this.isCloseBlock=a,this.showNumber=o,this.toggleControl=i,this.toggleIcon=l,this.colors=d,this.urls=h}render(){this.#e&&this.dispose(),this.#e=document.createElement("div"),this.node.classList.add(this.className),this.node.setAttribute("level",this.level),this.node.style.setProperty("--level",this.level),this.node.setAttribute("number",this.number),this.node.style.setProperty("--number",this.number);let e=document.createElement("div");e.classList.add(`${this.className}-content`);for(let t=0;t<this.tokens.length;t++)e.append(this.#s(this.tokens.at(t)));if(this.node.append(e),this.showNumber){let t=document.createElement("span");t.classList.add(`${this.className}-number`),t.textContent=this.number,this.node.prepend(t)}return this.toggleControl&&this.isOpenBlock&&this.node.insertBefore(this.#i(),e),this.node}#s(e={}){let{type:t,value:s,tags:r=[]}=e,o=document.createElement("span");if(o.classList.add(`${this.className}-token`),o.classList.add(t),o.setAttribute("tags",r.join(" ")),this.urls.size>0&&e.url&&this.urls.has(e.url)){let i=document.createElement("a");return i.classList.add(`${this.className}-url`),i.href=["domain","www"].includes(e.url)?`https://${s}`:e.url==="mail"&&!String(s).startsWith("mailto:")?`mailto:${s}`:e.url==="phone"&&!String(s).startsWith("tel:")?`tel:${s}`:String(s),e.url!=="relative"&&(i.target="_blank",i.rel="noopener noreferrer"),i.textContent=String(s),o.append(i),o}if(this.colors.size>0&&e.color&&this.colors.has(e.color)){let i=document.createElement("span");return i.classList.add(`${this.className}-color-preview`),i.style.backgroundColor=s,o.append(i,String(s)),o}return o.textContent=String(s),o}#i(){this.#t=document.createElement("button"),this.#t.classList.add(`${this.className}-toggle-button`),this.#t.classList.toggle("active",this.toggleActive);let e=document.createElement("span");return e.classList.add(`${this.className}-toggle-icon`),this.toggleIcon?e.append(this.toggleIcon):e.textContent="v",this.#t.append(e),this.#t.addEventListener("click",this.#n),this.#t}#n=e=>{this.toggleActive=!this.toggleActive,e.currentTarget.classList.toggle("active"),this.node.dispatchEvent(new CustomEvent("toggle-lines",{detail:{line:this},bubbles:!0,composed:!0}))};dispose(){this.clearListeners(),this.#e?.remove(),this.#e=null,this.tokens=[],this.toggleIcon=null,this.toggleActive=!1,this.isOpenBlock=!1,this.isCloseBlock=!1}clearListeners(){this.#t?.removeEventListener("click",this.#n),this.#t=null}addToken(e={}){this.isOpenBlock||(this.isOpenBlock=["brace-open","bracket-open"].includes(e.type)),this.isCloseBlock||(this.isCloseBlock=["brace-close","bracket-close"].includes(e.type)),this.tokens.push(e)}get node(){return this.#e}};var k=class{#e=null;content=[];openLine=null;closeLine=null;folded=!1;constructor(e={}){let{className:t="json-block",level:s=0,showContent:r=!0,foldedMessage:o="",folded:i=!1}=e;this.className=t,this.level=s,this.showContent=r,this.foldedMessage=o,this.folded=i}render(){if(this.#e&&this.dispose(),this.#e=document.createElement("div"),this.node.classList.add(this.className),this.node.setAttribute("level",this.level),this.node.style.setProperty("--level",this.level),this.folded&&this.node.setAttribute("folded",""),this.foldedMessage&&this.foldedMessage!=="none"){let t=this.foldedMessage.includes("{content_length}")?this.foldedMessage.replace("{content_length}",this.content.length):this.foldedMessage;this.node.style.setProperty("--json-folded-message-content",`"${t}"`)}this.openLine&&this.node.append(this.openLine.render());let e=document.createElement("div");return e.classList.add(`${this.className}-content`),this.node.append(e),this.showContent&&this.renderContent(),this.closeLine&&this.node.append(this.closeLine.render()),this.node}renderContent(){this.showContent=!0;let e=document.createDocumentFragment();for(let t=0;t<this.content.length;t++)e.append(this.content.at(t).render());this.node?.querySelector(`.${this.className}-content`).append(e)}fold(){this.folded=!0,this.node?.setAttribute("folded","")}unfold(){this.folded=!1,this.node?.removeAttribute("folded")}dispose(){this.openLine?.dispose(),this.closeLine?.dispose();for(let e=0;e<this.content.length;e++)this.content.at(e).dispose();this.#e?.remove(),this.#e=null,this.openLine=null,this.closeLine=null,this.content=[],this.folded=!1}get node(){return this.#e}};var O=new Set(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","transparent","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"]),T={HEX:{type:"hex",regex:/^#(?:[0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,test(n=""){return this.regex.test(n)}},RGB:{type:"rgb",regex:/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,test(n=""){return this.regex.test(n)},validRange(n=""){let e=n.match(this.regex);if(!e)return!1;let[,t,s,r]=e,o=Number(t),i=Number(s),l=Number(r);return o>=0&&o<=255&&i>=0&&i<=255&&l>=0&&l<=255}},RGBA:{type:"rgba",regex:/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(0|1|0?\.\d+)\s*\)$/i,test(n=""){return this.regex.test(n)},validRange(n=""){let e=n.match(this.regex);if(!e)return!1;let[,t,s,r,o]=e,i=Number(t),l=Number(s),c=Number(r),a=Number(o);return i>=0&&i<=255&&l>=0&&l<=255&&c>=0&&c<=255&&a>=0&&a<=1}},HSL:{type:"hsl",regex:/^hsl\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*\)$/i,test(n=""){return this.regex.test(n)},validRange(n=""){let e=n.match(this.regex);if(!e)return!1;let[,t,s,r]=e,o=Number(t),i=Number(s),l=Number(r);return o>=0&&o<=360&&i>=0&&i<=100&&l>=0&&l<=100}},HSLA:{type:"hsla",regex:/^hsla\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*,\s*(0|1|0?\.\d+)\s*\)$/i,test(n=""){return this.regex.test(n)},validRange(n=""){let e=n.match(this.regex);if(!e)return!1;let[,t,s,r,o]=e,i=Number(t),l=Number(s),c=Number(r),a=Number(o);return i>=0&&i<=360&&l>=0&&l<=100&&c>=0&&c<=100&&a>=0&&a<=1}},NAMED_COLORS:{type:"named",test(n=""){return typeof CSS<"u"&&CSS.supports?CSS.supports("color",n):O.has(n.toLowerCase())}}};var S=T;var R={HTTP:{type:"http",regex:/^http:\/\/[^\s"'`<>()]+$/,test(n=""){return this.regex.test(n)}},HTTPS:{type:"https",regex:/^https:\/\/[^\s"'`<>()]+$/,test(n=""){return this.regex.test(n)}},FTP:{type:"ftp",regex:/^ftp:\/\/[^\s"'`<>()]+$/,test(n=""){return this.regex.test(n)}},WWW:{type:"www",regex:/^www\.[^\s"'`<>()]+$/,test(n=""){return this.regex.test(n)}},DOMAIN:{type:"domain",regex:/^[a-z0-9.-]+\.[a-z]{2,}(\/[^\s"'`<>()]*)?$/i,test(n=""){return this.regex.test(n)}},RELATIVE:{type:"relative",regex:/^(\.{1,2}\/|\/)[^\s"'`<>()]+$/,test(n=""){return this.regex.test(n)}},MAIL:{type:"mail",regex:/^(?:mailto:)?[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}(?:\?[^\s"'`<>()]+)?$/i,test(n=""){return this.regex.test(n)}},PHONE:{type:"phone",regex:/^(?:tel:)?\+?[\d\s-]*?(?:\(\d{1,4}\))?[\d\s-]{5,}$/,test(n=""){return this.regex.test(n)}}};var L=R;var w=class n{static version="0.0.3";static URL_PATTERNS=L;static COLOR_PATTERNS=S;tokens=[];constructor(){}tokenize(e,t={}){let{detectURL:s=!1,detectColor:r=!0,strict:o=!1}=t,i=this.clearJSON(e,{strict:o});this.tokens=[];let l=[],c="key",a=0,d=0,h=i.length;for(;a<i.length;){if(d++,d>h)throw new Error(`Infinite loop detected while tokenizing JSON. Check the input: ${i}`);let u=i[a],p=l.at(-1);if(u==="{"){l.push("{"),this.tokens.push({type:"brace-open",value:u,tags:["brace","open"]}),c="key",a++;continue}if(u==="}"){l.pop(),this.tokens.push({type:"brace-close",value:u,tags:["brace","close"]}),a++;continue}if(u==="["){l.push("["),this.tokens.push({type:"bracket-open",value:u,tags:["bracket","open"]}),c="array-value",a++;continue}if(u==="]"){l.pop(),this.tokens.push({type:"bracket-close",value:u,tags:["bracket","close"]}),a++;continue}if(u===","){this.tokens.push({type:"comma",value:u,tags:["comma"]}),c=p==="{"?"key":"array-value",a++;continue}if(u===":"){this.tokens.push({type:"colon",value:u,tags:["colon"]}),c="value",a++;continue}if(u==='"'){let g=this._parseString(i,a);if(g){let{value:f,endIndex:m}=g,y={type:"string",value:f,tags:["string",c]};if(s){let b=this._isURL(f);b.isURL&&(y.tags.push(`url-${b.type}`),y.url=b.type)}if(r){let b=this._isColor(f);b.isColor&&(y.tags.push(`color-${b.type}`),y.color=b.type)}this.tokens.push({type:"string-open",value:u,tags:["string","open",c]}),this.tokens.push(y),this.tokens.push({type:"string-close",value:u,tags:["string","close",c]}),a=m+1;continue}}if(u==="t"||u==="f"){let g=this._parseBoolean(i,a);if(g){let{value:f,endIndex:m}=g;this.tokens.push({type:"boolean",value:f,tags:["boolean",c,f?"true":"false"]}),a=m+1;continue}}if(u==="n"){let g=this._parseNull(i,a);if(g){let{value:f,endIndex:m}=g;this.tokens.push({type:"null",value:f,tags:["null",c]}),a=m+1;continue}}if(/[0-9\-]/.test(u)){let g=this._parseNumber(i,a);if(g){let{value:f,endIndex:m}=g;this.tokens.push({type:"number",value:f,tags:["number",c]}),a=m+1;continue}}let{value:E,endIndex:x}=this._parseUnknown(i,a);this.tokens.push({type:"unknown",value:E,tags:["unknown",c]}),a=x+1}}clearJSON(e,t={}){if(typeof e?.valueOf()!="string")throw new Error("Invalid JSON input. Expected a string.");let{strict:s="auto"}=t;if(s===!0)return JSON.stringify(JSON.parse(e));if(s===!1)return this._minifyJSON(e);if(s==="auto")try{return JSON.stringify(JSON.parse(e))}catch{return this._minifyJSON(e)}throw new Error("Invalid 'strict' option. Expected true, false, or 'auto'.")}_parseString(e,t){let s=t+1;for(;s<e.length;){if(e.at(s)==="\\"){s+=2;continue}if(e.at(s)==='"')break;s++}let r=s,o=e.slice(t,r+1);try{return{value:JSON.parse(o),raw:o,endIndex:r}}catch{return null}}_parseNumber(e,t){let s=t;for(;s<e.length&&!this._isDelimiter(e[s]);)s++;let r=e.slice(t,s),o=Number(r);return Number.isNaN(o)?null:{value:o,raw:r,endIndex:s-1}}_parseBoolean(e,t){return e.startsWith("true",t)&&this._isDelimiter(e[t+4])?{value:!0,raw:"true",endIndex:t+3}:e.startsWith("false",t)&&this._isDelimiter(e[t+5])?{value:!1,raw:"false",endIndex:t+4}:null}_parseNull(e,t){return e.startsWith("null",t)&&this._isDelimiter(e[t+4])?{value:null,raw:"null",endIndex:t+3}:null}_parseUnknown(e,t){let s=t,r=[];for(;s<e.length&&!this._isDelimiter(e[s]);)r.push(e[s]),s++;return{value:r.join(""),raw:r.join(""),endIndex:s-1}}_isDelimiter(e=""){return e===","||e==="}"||e==="]"}_isURL(e=""){if(!e)return{isURL:!1,type:null};if(typeof e!="string")return{isURL:!1,type:null};for(let t of Object.values(n.URL_PATTERNS))if(t.test(e))return{isURL:!0,type:t.type};return{isURL:!1,type:null}}_isColor(e=""){if(!e)return{isColor:!1,type:null};if(typeof e!="string")return{isColor:!1,type:null};for(let t of Object.values(n.COLOR_PATTERNS))if(t.test(e))return t.validRange&&!t.validRange(e)?{isColor:!1,type:null}:{isColor:!0,type:t.type};return{isColor:!1,type:null}}_minifyJSON(e){if(typeof e?.valueOf()!="string")throw new Error("Invalid JSON input. Expected a string.");if(e.length===0)return"";let t=[],s=!1,r=!1,o=e.length;for(let i=0;i<o;i++){let l=e[i];s?(t.push(l),r?r=!1:(l==="\\"&&(r=!0),l==='"'&&(s=!1))):(l!==" "&&l!==`
`&&l!=="	"&&l!=="\r"&&t.push(l),l==='"'&&(s=!0))}return t.join("")}},C=w;var N=class{#e=null;constructor(e={}){let{className:t="copy-button",icons:s=null,data:r=null,showDoneTimeout:o=1e3}=e;this.className=t,this.icons=s,this.data=r,this.showDoneTimeout=o}render(){this.#e=document.createElement("button"),this.#e.classList.add(this.className);let e=document.createElement("div");e.classList.add("copy-icon"),this.icons?.copy?e.append(this.icons.copy):e.textContent="Copy",this.#e.append(e);let t=document.createElement("div");return t.classList.add("copy-done-icon"),this.icons?.copyDone?t.append(this.icons.copyDone):t.textContent="Done",this.#e.append(t),this.#e.addEventListener("click",this.#t),this.#e}#t=e=>{let t=typeof this.data=="function"?this.data():this.data?.current;if(t){let s=e.currentTarget;navigator.clipboard.writeText(typeof t=="string"?t:JSON.stringify(t,null,2)).then(()=>{s.setAttribute("copy-done",""),s.disabled=!0,setTimeout(()=>{s.removeAttribute("copy-done"),s.disabled=!1},this.showDoneTimeout),s.dispatchEvent(new CustomEvent("copy-done",{detail:{data:t},bubbles:!0,composed:!0})),console.log("JSON copied to clipboard")}).catch(r=>{console.error("Failed to copy JSON:",r)})}};dispose(){this.clearListeners(),this.#e?.remove(),this.#e=null}clearListeners(){this.#e?.removeEventListener("click",this.#t)}get node(){return this.#e}};var A=class n extends HTMLElement{static VERSION="0.0.3";static DEFAULT_TAG_NAME="custom-json-visualizer";static DEFAULT_ICONS={toggle:`<svg data-name='toggle' width='16' height='16' fill='currentColor' viewBox='0 0 16 16'>
			<path fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708'/>
		</svg>`,copy:`<svg data-name='copy' width='16' height='16' fill='currentColor' viewBox='0 0 16 16'>
			<path d='M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1z'/>
			<path d='M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0z'/>
		</svg>`,"copy-done":`<svg data-name='copy-done' width='16' height='16' fill='currentColor' viewBox='0 0 16 16'>
			<path d='M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0'/>
		</svg>`};static stylesSheets={links:[],adopted:[],raw:[]};static getTokens=async(e,t={})=>{let s=new C;return s.tokenize(e,t),s.tokens};static defaults={renderDeep:1/0,colors:new Set(["hex","rgb","rgba","hsl","hsla","named"]),urls:new Set(["http","https","ftp","www","domain","relative","mail","phone"]),foldedMessage:"\u22EF",strict:"auto"};#e=null;#t=null;#s=null;constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`
			<div class='JSONVisualizer'></div>
			<slot name='icons'>
				<template>
					${n.DEFAULT_ICONS.toggle}
					${n.DEFAULT_ICONS.copy}
					${n.DEFAULT_ICONS["copy-done"]}
				</template>
			</slot>
		`,Promise.allSettled(n.stylesSheets.links.map(e=>{let t=document.createElement("link");t.rel="stylesheet",t.href=e;let{promise:s,resolve:r,reject:o}=Promise.withResolvers();return t.addEventListener("load",()=>r({link:t,href:e,status:"loaded"})),t.addEventListener("error",()=>o({link:t,href:e,status:"error"})),this.shadowRoot.prepend(t),s})).then(e=>{this.dispatchEvent(new CustomEvent("ready-links",{detail:{results:e.map(t=>t.value||t.reason)}})),this.setAttribute("ready-links","")}),n.stylesSheets.raw.forEach(e=>{let t=document.createElement("style");t.textContent=e,this.shadowRoot.prepend(t)}),this.shadowRoot.adoptedStyleSheets=n.stylesSheets.adopted}static observedAttributes=["json","src"];attributeChangedCallback(e,t,s){e==="src"&&s!==t&&this.loadJSON(s),e==="json"&&s!==t&&this.renderJSON(s)}connectedCallback(){!this.getAttribute("src")&&!this.getAttribute("json")&&(this.json=this.textContent),this.copyButton!=="none"&&(this.#t=new N({data:()=>this.data,icons:{copy:this.getIcon("copy",{clone:!0}),copyDone:this.getIcon("copy-done",{clone:!0})}}),this.shadowRoot.append(this.#t.render())),this.addEventListener("toggle-lines",this.#n),this.dispatchEvent(new CustomEvent("ready")),this.setAttribute("ready","")}disconnectedCallback(){this.#t?.dispose(),this.#t=null,this.clearJSON(),this.clearListeners()}async loadJSON(e,t={}){let{method:s}=t;try{let r=await fetch(e,{method:s||"GET"});if(r.ok){let o=await r.json();this.json=o}}catch{}}async#i(e,t={}){if(!n.getTokens){console.warn("JSONVisualizer.getTokens is not defined. Please ensure that the JSONTokenizer");return}let{colors:s=this.colors,urls:r=this.urls}=t,o=[],i=await n.getTokens(e,{detectColor:s.size>0,detectURL:r.size>0,strict:this.strict}),l=null,c=0,a=1;for(let d=0;d<i.length;d++){let h=i.at(d);if(["brace-close","bracket-close"].includes(h.type)){c--;let u=i.at(d-1);["brace-open","bracket-open","comma"].includes(u?.type)||(l=null)}if(l||(l=new v({level:c,number:a++,colors:s,urls:r}),o.push(l)),l.addToken(h),["brace-close","bracket-close"].includes(h.type)){let u=i.at(d+1);if(u?.type==="comma"){l.addToken(u),d++,l=null;continue}}["brace-open","bracket-open"].includes(h.type)&&c++,["brace-open","brace-close","bracket-open","bracket-close","comma"].includes(h.type)&&(l=null)}return o}async renderJSON(e,t={}){if(!e){console.warn("No JSON provided to renderJSON method.");return}console.log("render json"),this.clearJSON();let{lineNumbers:s=this.lineNumbers!=="none",toggleLines:r=this.toggleLines!=="none",renderDeep:o=this.renderDeep,colors:i=this.colors,urls:l=this.urls}=t,c=await this.#i(e,{colors:i,urls:l}),a=[];for(let d=0;d<c.length;d++){let h=c.at(d);if(h.showNumber=s,h.isOpenBlock){let p=new k({level:h.level,showContent:h.level<o,foldedMessage:this.foldedMessage});p.openLine=h,h.block=p,p.folded=!p.showContent,r&&(h.toggleControl=!0,h.toggleActive=!p.showContent,h.toggleIcon=this.getIcon("toggle",{clone:!0})),a.push(p);continue}if(h.isCloseBlock){let p=a.pop();p.closeLine=h,h.block=p,a.length>0?a.at(-1).content.push(p):this.#e=p;continue}let u=a.at(-1);h.block=u,u?.content.push(h)}if(!this.#e&&a.length>0){for(;a.length>1;){let d=a.pop();a.at(-1).content.push(d)}this.#e=a.at(0)}if(this.shadowRoot.querySelector(".JSONVisualizer").append(this.#e.render()),s){let d=`${String(c.length).length}ch`;this.shadowRoot.querySelector(".JSONVisualizer").style.setProperty("--line-number-min-width",d)}this.setAttribute("ready-json",""),this.dispatchEvent(new CustomEvent("ready-json"))}getIcon(e,{clone:t=!1}={}){let s=this.shadowRoot.querySelector("slot[name='icons']"),r=s.querySelector("template").content,i=s.assignedNodes().at(0)?.content?.querySelector(`[data-name='${e}']`)??r.querySelector(`[data-name='${e}']`);return t?i.cloneNode(!0):i}clearJSON(){this.removeAttribute("ready-json"),this.#e?.dispose(),this.#e=null}clearListeners(){this.removeEventListener("toggle-lines",this.#n)}#n=e=>{let{line:t}=e.detail;t.block.showContent?t.block.folded?t.block.unfold():t.block.fold():(t.block.renderContent(),t.block.folded&&t.block.unfold())};set lineNumbers(e){e?this.setAttribute("line-numbers",""):this.removeAttribute("line-numbers")}get lineNumbers(){return this.getAttribute("line-numbers")}set toggleLines(e){e?this.setAttribute("toggle-lines",""):this.removeAttribute("toggle-lines")}get toggleLines(){return this.getAttribute("toggle-lines")}set indentationGuidesLines(e){e?this.setAttribute("indentation-guides-lines",""):this.removeAttribute("indentation-guides-lines")}get indentationGuidesLines(){return this.getAttribute("indentation-guides-lines")}set copyButton(e){e?this.setAttribute("copy-button",""):this.removeAttribute("copy-button")}get copyButton(){return this.getAttribute("copy-button")}set foldedMessage(e){e?this.setAttribute("folded-message",e):this.removeAttribute("folded-message")}get foldedMessage(){return this.getAttribute("folded-message")??n.defaults.foldedMessage}set renderDeep(e){e?this.setAttribute("render-deep",e):this.removeAttribute("render-deep")}get renderDeep(){let e=this.getAttribute("render-deep");return!e||Number.isNaN(Number(e))?n.defaults.renderDeep:Number(e)}set colors(e){if(e==null)return this.removeAttribute("colors");if(typeof e=="string"&&this.setAttribute("colors",e),Array.isArray(e)||e instanceof Set){let t=[...e].map(s=>s.trim()).filter(s=>s&&n.defaults.colors.has(s));return this.setAttribute("colors",t.join(","))}}get colors(){let e=this.getAttribute("colors");return!e||e==="all"?n.defaults.colors:e==="none"?new Set:new Set(e.split(",").map(t=>t.trim()).filter(t=>t&&n.defaults.colors.has(t)))}set urls(e){if(e==null)return this.removeAttribute("urls");if(typeof e=="string"&&this.setAttribute("urls",e),Array.isArray(e)||e instanceof Set){let t=[...e].map(s=>s.trim()).filter(s=>s&&n.defaults.urls.has(s));return this.setAttribute("urls",t.join(","))}}get urls(){let e=this.getAttribute("urls");return!e||e==="all"?n.defaults.urls:e==="none"?new Set:new Set(e.split(",").map(t=>t.trim()).filter(t=>t&&n.defaults.urls.has(t)))}set strict(e){e?this.setAttribute("strict",e):this.removeAttribute("strict")}get strict(){let e=this.getAttribute("strict")?.toLowerCase();return!e&&this.hasAttribute("strict")?!0:e==="none"||e==="false"?!1:e==="true"?!0:n.defaults.strict}set src(e){e?this.setAttribute("src",e):this.removeAttribute("src")}get src(){return this.getAttribute("src")}set json(e){if(e==null){this.removeAttribute("json"),this.#s=null;return}if(typeof e=="string")try{this.#s=JSON.parse(e),this.setAttribute("json",JSON.stringify(this.#s))}catch{this.#s=e,this.setAttribute("json",e)}else if(typeof e=="object")this.#s=e,this.setAttribute("json",JSON.stringify(this.#s));else throw new TypeError("json must be a string or object")}get json(){return{raw:this.getAttribute("json"),parsed:this.#s}}get data(){return this.#s}},F=A;})();
